<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.inabananami.japanesedemo.dao.mapper.ReviewMapper">
    <insert id="defaultAdd">
        insert into review_log(user_id, word_id, quality, review_time, ease_factor, interval_days, next_review_time, repetition)
        values(#{userId},#{wordId},5,#{reviewTime},2.5,0,#{nextReviewTime},0)
    </insert>
    <select id="findReviewByWordId" parameterType="com.inabananami.japanesedemo.dao.pojo.ReviewLog">
        select * from review_log where word_id=#{id};
    </select>
    <update id="updateReviewLog">
        update review_log set quality=#{quality},review_time=#{reviewTime},ease_factor=#{easeFactor}, interval_days=#{intervalDays},next_review_time=#{nextReviewTime},repetition=#{repetition} where id=#{id};
    </update>
    <select id="findByUserIdAndWordId" parameterType="com.inabananami.japanesedemo.dao.pojo.ReviewLog">
        select * from review_log where user_id=#{userId} and word_id=#{wordId};
    </select>
    <delete id="deleteReviewLog">
        delete from review_log where id=#{reviewLogId};
    </delete>
</mapper>